"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/gocardless/billing-request/post";
exports.ids = ["pages/api/gocardless/billing-request/post"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "analytics-node":
/*!*********************************!*\
  !*** external "analytics-node" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("analytics-node");

/***/ }),

/***/ "gocardless-nodejs":
/*!************************************!*\
  !*** external "gocardless-nodejs" ***!
  \************************************/
/***/ ((module) => {

module.exports = require("gocardless-nodejs");

/***/ }),

/***/ "gocardless-nodejs/constants":
/*!**********************************************!*\
  !*** external "gocardless-nodejs/constants" ***!
  \**********************************************/
/***/ ((module) => {

module.exports = require("gocardless-nodejs/constants");

/***/ }),

/***/ "micro":
/*!************************!*\
  !*** external "micro" ***!
  \************************/
/***/ ((module) => {

module.exports = require("micro");

/***/ }),

/***/ "(api)/./pages/api/gocardless/billing-request/post.js":
/*!******************************************************!*\
  !*** ./pages/api/gocardless/billing-request/post.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var micro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! micro */ \"micro\");\n/* harmony import */ var micro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(micro__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_segment_segmentClient__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/segment/segmentClient */ \"(api)/./utils/segment/segmentClient.js\");\n/* harmony import */ var _utils_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/supabase */ \"(api)/./utils/supabase.js\");\n/* harmony import */ var _utils_gocardless__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/gocardless */ \"(api)/./utils/gocardless.js\");\n\n\n\n\nconst analytics = _utils_segment_segmentClient__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\nconst supabase = (0,_utils_supabase__WEBPACK_IMPORTED_MODULE_2__.getServiceSupabase)();\nconst handler = async (req, res)=>{\n    const request = req.body;\n    if (req.method === \"POST\") {\n        try {\n            const data = await (0,_utils_gocardless__WEBPACK_IMPORTED_MODULE_3__.createGoCardlessBillingRequest)(request);\n            console.log(data);\n            res.status(200).json(data);\n        } catch (error) {\n            res.status(500).json({\n                error: error,\n                message: error.message\n            });\n        }\n    } else {\n        res.setHeader(\"Allow\", \"POST\");\n        res.status(405).end(\"Method Not Allowed\");\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handler);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvZ29jYXJkbGVzcy9iaWxsaW5nLXJlcXVlc3QvcG9zdC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMkM7QUFDZTtBQUNKO0FBQ2M7QUFFcEUsTUFBTU0sU0FBUyxHQUFHSCxvRUFBYTtBQUUvQixNQUFNSSxRQUFRLEdBQUdILG1FQUFrQixFQUFFO0FBRXJDLE1BQU1JLE9BQU8sR0FBRyxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsR0FBSztJQUNsQyxNQUFNQyxPQUFPLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSTtJQUV4QixJQUFJSCxHQUFHLENBQUNJLE1BQU0sS0FBSyxNQUFNLEVBQUU7UUFDdkIsSUFBSTtZQUNBLE1BQU1DLElBQUksR0FBRyxNQUFNVCxpRkFBOEIsQ0FBQ00sT0FBTyxDQUFDO1lBQzFESSxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsSUFBSSxDQUFDLENBQUM7WUFDbEJKLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDZixJQUFJLENBQUNZLElBQUksQ0FBQztTQUM3QixDQUFDLE9BQU9JLEtBQUssRUFBRTtZQUNaUixHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ2YsSUFBSSxDQUFDO2dCQUFDZ0IsS0FBSyxFQUFFQSxLQUFLO2dCQUFFQyxPQUFPLEVBQUVELEtBQUssQ0FBQ0MsT0FBTzthQUFDLENBQUM7U0FDL0Q7S0FDSixNQUFNO1FBQ0xULEdBQUcsQ0FBQ1UsU0FBUyxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztRQUMvQlYsR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNJLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0tBQzNDO0NBQ0Y7QUFFRCxpRUFBZWIsT0FBTyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFtbGV0Ly4vcGFnZXMvYXBpL2dvY2FyZGxlc3MvYmlsbGluZy1yZXF1ZXN0L3Bvc3QuanM/Y2NhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBidWZmZXIsIHRleHQsIGpzb24gfSBmcm9tIFwibWljcm9cIjtcbmltcG9ydCBzZWdtZW50Q2xpZW50IGZyb20gXCJAL3V0aWxzL3NlZ21lbnQvc2VnbWVudENsaWVudFwiO1xuaW1wb3J0IHsgZ2V0U2VydmljZVN1cGFiYXNlIH0gZnJvbSBcIkAvdXRpbHMvc3VwYWJhc2VcIjtcbmltcG9ydCB7IGNyZWF0ZUdvQ2FyZGxlc3NCaWxsaW5nUmVxdWVzdCB9IGZyb20gXCJAL3V0aWxzL2dvY2FyZGxlc3NcIjtcblxuY29uc3QgYW5hbHl0aWNzID0gc2VnbWVudENsaWVudFxuXG5jb25zdCBzdXBhYmFzZSA9IGdldFNlcnZpY2VTdXBhYmFzZSgpXG4gIFxuY29uc3QgaGFuZGxlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCByZXF1ZXN0ID0gcmVxLmJvZHlcblxuICBpZiAocmVxLm1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGNyZWF0ZUdvQ2FyZGxlc3NCaWxsaW5nUmVxdWVzdChyZXF1ZXN0KVxuICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGRhdGEpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtlcnJvcjogZXJyb3IsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2V9KVxuICAgICAgfVxuICB9IGVsc2Uge1xuICAgIHJlcy5zZXRIZWFkZXIoXCJBbGxvd1wiLCBcIlBPU1RcIik7XG4gICAgcmVzLnN0YXR1cyg0MDUpLmVuZChcIk1ldGhvZCBOb3QgQWxsb3dlZFwiKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgaGFuZGxlcjsiXSwibmFtZXMiOlsiYnVmZmVyIiwidGV4dCIsImpzb24iLCJzZWdtZW50Q2xpZW50IiwiZ2V0U2VydmljZVN1cGFiYXNlIiwiY3JlYXRlR29DYXJkbGVzc0JpbGxpbmdSZXF1ZXN0IiwiYW5hbHl0aWNzIiwic3VwYWJhc2UiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwicmVxdWVzdCIsImJvZHkiLCJtZXRob2QiLCJkYXRhIiwiY29uc29sZSIsImxvZyIsInN0YXR1cyIsImVycm9yIiwibWVzc2FnZSIsInNldEhlYWRlciIsImVuZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/gocardless/billing-request/post.js\n");

/***/ }),

/***/ "(api)/./utils/api/request.js":
/*!******************************!*\
  !*** ./utils/api/request.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"get\": () => (/* binding */ get),\n/* harmony export */   \"post\": () => (/* binding */ post)\n/* harmony export */ });\nlet cache = {};\nconst request = (url, params = {}, method = \"GET\")=>{\n    let options = {\n        method,\n        headers: new Headers({\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\"\n        })\n    };\n    if (\"GET\" === method) {\n        url += \"?\" + new URLSearchParams(params).toString();\n    } else {\n        options.body = JSON.stringify(params);\n    }\n    const result = fetch(url, options).then((response)=>response.json());\n    return result;\n};\nconst get = (url, params)=>request(url, params, \"GET\");\nconst post = (url, params)=>request(url, params, \"POST\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9hcGkvcmVxdWVzdC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQUlBLEtBQUssR0FBRyxFQUFFO0FBQ2QsTUFBTUMsT0FBTyxHQUFHLENBQUNDLEdBQUcsRUFBRUMsTUFBTSxHQUFHLEVBQUUsRUFBRUMsTUFBTSxHQUFHLEtBQUssR0FBSztJQUVwRCxJQUFJQyxPQUFPLEdBQUc7UUFDWkQsTUFBTTtRQUNORSxPQUFPLEVBQUUsSUFBSUMsT0FBTyxDQUFDO1lBQ3JCLFFBQVEsRUFBRSxrQkFBa0I7WUFDNUIsY0FBYyxFQUFFLGtCQUFrQjtTQUNqQyxDQUFDO0tBQ0g7SUFDRCxJQUFJLEtBQUssS0FBS0gsTUFBTSxFQUFFO1FBQ3BCRixHQUFHLElBQUksR0FBRyxHQUFHLElBQUlNLGVBQWUsQ0FBQ0wsTUFBTSxDQUFDLENBQUNNLFFBQVEsRUFBRSxDQUFDO0tBQ3JELE1BQU07UUFDTEosT0FBTyxDQUFDSyxJQUFJLEdBQUdDLElBQUksQ0FBQ0MsU0FBUyxDQUFDVCxNQUFNLENBQUM7S0FDdEM7SUFFRCxNQUFNVSxNQUFNLEdBQUdDLEtBQUssQ0FBQ1osR0FBRyxFQUFFRyxPQUFPLENBQUMsQ0FBQ1UsSUFBSSxDQUFDLENBQUNDLFFBQVEsR0FDL0NBLFFBQVEsQ0FBQ0MsSUFBSSxFQUFFLENBQUM7SUFFbEIsT0FBT0osTUFBTSxDQUFDO0NBQ2Y7QUFFTSxNQUFNSyxHQUFHLEdBQUcsQ0FBQ2hCLEdBQUcsRUFBRUMsTUFBTSxHQUFLRixPQUFPLENBQUNDLEdBQUcsRUFBRUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3pELE1BQU1nQixJQUFJLEdBQUcsQ0FBQ2pCLEdBQUcsRUFBRUMsTUFBTSxHQUFLRixPQUFPLENBQUNDLEdBQUcsRUFBRUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFtbGV0Ly4vdXRpbHMvYXBpL3JlcXVlc3QuanM/YzI5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgY2FjaGUgPSB7fTtcbmNvbnN0IHJlcXVlc3QgPSAodXJsLCBwYXJhbXMgPSB7fSwgbWV0aG9kID0gXCJHRVRcIikgPT4ge1xuXG4gIGxldCBvcHRpb25zID0ge1xuICAgIG1ldGhvZCxcbiAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh7IFxuICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywgXG4gICAgfSksXG4gIH07XG4gIGlmIChcIkdFVFwiID09PSBtZXRob2QpIHtcbiAgICB1cmwgKz0gXCI/XCIgKyBuZXcgVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykudG9TdHJpbmcoKTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShwYXJhbXMpXG4gIH1cblxuICBjb25zdCByZXN1bHQgPSBmZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4oKHJlc3BvbnNlKSA9PlxuICAgIHJlc3BvbnNlLmpzb24oKSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXQgPSAodXJsLCBwYXJhbXMpID0+IHJlcXVlc3QodXJsLCBwYXJhbXMsIFwiR0VUXCIpO1xuZXhwb3J0IGNvbnN0IHBvc3QgPSAodXJsLCBwYXJhbXMpID0+IHJlcXVlc3QodXJsLCBwYXJhbXMsIFwiUE9TVFwiKTtcbiJdLCJuYW1lcyI6WyJjYWNoZSIsInJlcXVlc3QiLCJ1cmwiLCJwYXJhbXMiLCJtZXRob2QiLCJvcHRpb25zIiwiaGVhZGVycyIsIkhlYWRlcnMiLCJVUkxTZWFyY2hQYXJhbXMiLCJ0b1N0cmluZyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzdWx0IiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwiZ2V0IiwicG9zdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utils/api/request.js\n");

/***/ }),

/***/ "(api)/./utils/gocardless.js":
/*!*****************************!*\
  !*** ./utils/gocardless.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"client\": () => (/* binding */ client),\n/* harmony export */   \"createGoCardlessBillingRequest\": () => (/* binding */ createGoCardlessBillingRequest),\n/* harmony export */   \"createGoCardlessBillingRequestFlow\": () => (/* binding */ createGoCardlessBillingRequestFlow),\n/* harmony export */   \"createGoCardlessSubscription\": () => (/* binding */ createGoCardlessSubscription),\n/* harmony export */   \"getGoCardlessCustomer\": () => (/* binding */ getGoCardlessCustomer)\n/* harmony export */ });\n/* harmony import */ var gocardless_nodejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gocardless-nodejs */ \"gocardless-nodejs\");\n/* harmony import */ var gocardless_nodejs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(gocardless_nodejs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var gocardless_nodejs_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gocardless-nodejs/constants */ \"gocardless-nodejs/constants\");\n/* harmony import */ var gocardless_nodejs_constants__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(gocardless_nodejs_constants__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api_request__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./api/request */ \"(api)/./utils/api/request.js\");\n\n\n\nconst client = gocardless_nodejs__WEBPACK_IMPORTED_MODULE_0___default()(// We recommend storing your access token in an environment\n// variable for security\nprocess.env.GO_CARDLESS_ACCESS_TOKEN, // Change this to constants.Environments.Live when you're ready to go live\ngocardless_nodejs_constants__WEBPACK_IMPORTED_MODULE_1__.Environments.Sandbox);\nasync function getGoCardlessCustomer() {\n    return new Promise((resolve)=>{\n        (async ()=>{\n            try {\n                console.log(\"getGoCardlessCustomer called\");\n                const listResponse = await client.customers.list();\n                const customers = listResponse.customers;\n                console.log(\"customers: \", customers);\n                resolve(customers);\n            } catch (error) {\n                console.log(\"error: \", error);\n                resolve(error);\n            }\n        })();\n    });\n}\nasync function createGoCardlessBillingRequest(metadata) {\n    return new Promise((resolve)=>{\n        (async ()=>{\n            try {\n                console.log(\"createGoCardlessBillingRequest called\");\n                const billingRequest = await client.billingRequests.create({\n                    mandate_request: {\n                        currency: \"NZD\",\n                        metadata: metadata\n                    }\n                });\n                console.log(\"billingRequest: \", billingRequest);\n                resolve(billingRequest);\n            } catch (error) {\n                console.log(\"error: \", error);\n                resolve(error);\n            }\n        })();\n    });\n}\nasync function createGoCardlessBillingRequestFlow(customer, billingRequest) {\n    return new Promise((resolve)=>{\n        (async ()=>{\n            try {\n                console.log(\"createGoCardlessBillingRequestFlow called\");\n                const billingRequestFlow = await client.billingRequestFlows.create({\n                    redirect_uri: \"https://dev.stayhamlet.com/resident/pay/rent/confirm\",\n                    exit_uri: \"https://dev.stayhamlet.com/resident/pay/rent/unsuccessful\",\n                    prefilled_customer: {\n                        given_name: customer.given_name,\n                        family_name: customer.family_name,\n                        email: \"petersloan1984+test7@gmail.com\"\n                    },\n                    lock_currency: true,\n                    links: {\n                        billing_request: billingRequest\n                    }\n                });\n                console.log(\"billingRequestFlow: \", billingRequestFlow);\n                resolve(billingRequestFlow);\n            } catch (error) {\n                console.log(\"error: \", error);\n                resolve(error);\n            }\n        })();\n    });\n}\nasync function createGoCardlessSubscription(mandate) {\n    return new Promise((resolve)=>{\n        (async ()=>{\n            try {\n                console.log(\"createGoCardlessSubscription called\");\n                const subscription = await client.subscriptions.create({\n                    amount: 150000,\n                    currency: \"NZD\",\n                    name: \"Hamlet Rent\",\n                    interval: 2,\n                    interval_unit: \"weekly\",\n                    retry_if_possible: true,\n                    links: {\n                        mandate: mandate\n                    }\n                }, \"unique_subscription_specific_string\");\n                console.log(\"subscription: \", subscription);\n                resolve(subscription);\n            } catch (error) {\n                console.log(\"error: \", error);\n                resolve(error);\n            }\n        })();\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBT1YsS0FBSyxFQUFFO2dCQUNaTCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxTQUFTLEVBQUVJLEtBQUssQ0FBQyxDQUFDO2dCQUM5Qk4sT0FBTyxDQUFDTSxLQUFLLENBQUM7YUFDakI7U0FDQSxDQUFDLEVBQUU7S0FDUCxDQUFDO0NBQ0w7QUFFTSxlQUFlcUIsNEJBQTRCLENBQUNDLE9BQU8sRUFBRTtJQUN4RCxPQUFPLElBQUk3QixPQUFPLENBQUNDLENBQUFBLE9BQU8sR0FBSTtRQUMxQixDQUFDLFVBQVk7WUFDYixJQUFJO2dCQUNBQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFDO2dCQUNuRCxNQUFNMkIsWUFBWSxHQUFHLE1BQU1yQyxNQUFNLENBQUNzQyxhQUFhLENBQUNuQixNQUFNLENBQ2xEO29CQUNFb0IsTUFBTSxFQUFFLE1BQU07b0JBQ2RsQixRQUFRLEVBQUUsS0FBSztvQkFDZm1CLElBQUksRUFBRSxhQUFhO29CQUNuQkMsUUFBUSxFQUFFLENBQUM7b0JBQ1hDLGFBQWEsRUFBRSxRQUFRO29CQUN2QkMsaUJBQWlCLEVBQUUsSUFBSTtvQkFDdkJWLEtBQUssRUFBRTt3QkFDTEcsT0FBTyxFQUFFQSxPQUFPO3FCQUNqQjtpQkFDRixFQUNELHFDQUFxQyxDQUN4QztnQkFDRDNCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGdCQUFnQixFQUFFMkIsWUFBWSxDQUFDLENBQUM7Z0JBQzVDN0IsT0FBTyxDQUFDNkIsWUFBWSxDQUFDO2FBQ3hCLENBQUMsT0FBT3ZCLEtBQUssRUFBRTtnQkFDWkwsT0FBTyxDQUFDQyxHQUFHLENBQUMsU0FBUyxFQUFFSSxLQUFLLENBQUMsQ0FBQztnQkFDOUJOLE9BQU8sQ0FBQ00sS0FBSyxDQUFDO2FBQ2pCO1NBQ0EsQ0FBQyxFQUFFO0tBQ1AsQ0FBQztDQUNMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFtbGV0Ly4vdXRpbHMvZ29jYXJkbGVzcy5qcz81MzFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnb2NhcmRsZXNzIGZyb20gJ2dvY2FyZGxlc3Mtbm9kZWpzJ1xuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJ2dvY2FyZGxlc3Mtbm9kZWpzL2NvbnN0YW50cydcbmltcG9ydCB7IGdldCB9IGZyb20gJy4vYXBpL3JlcXVlc3QnO1xuXG5leHBvcnQgY29uc3QgY2xpZW50ID0gZ29jYXJkbGVzcyhcbiAgLy8gV2UgcmVjb21tZW5kIHN0b3JpbmcgeW91ciBhY2Nlc3MgdG9rZW4gaW4gYW4gZW52aXJvbm1lbnRcbiAgLy8gdmFyaWFibGUgZm9yIHNlY3VyaXR5XG4gIHByb2Nlc3MuZW52LkdPX0NBUkRMRVNTX0FDQ0VTU19UT0tFTixcbiAgLy8gQ2hhbmdlIHRoaXMgdG8gY29uc3RhbnRzLkVudmlyb25tZW50cy5MaXZlIHdoZW4geW91J3JlIHJlYWR5IHRvIGdvIGxpdmVcbiAgY29uc3RhbnRzLkVudmlyb25tZW50cy5TYW5kYm94XG4pO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0R29DYXJkbGVzc0N1c3RvbWVyKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZ2V0R29DYXJkbGVzc0N1c3RvbWVyIGNhbGxlZFwiKTsgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGxpc3RSZXNwb25zZSA9IGF3YWl0IGNsaWVudC5jdXN0b21lcnMubGlzdCgpO1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tZXJzID0gbGlzdFJlc3BvbnNlLmN1c3RvbWVycztcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY3VzdG9tZXJzOiBcIiwgY3VzdG9tZXJzKTtcbiAgICAgICAgICAgIHJlc29sdmUoY3VzdG9tZXJzKVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvcjogXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJlc29sdmUoZXJyb3IpXG4gICAgICAgIH1cbiAgICAgICAgfSkoKVxuICAgIH0pXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVHb0NhcmRsZXNzQmlsbGluZ1JlcXVlc3QobWV0YWRhdGEpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNyZWF0ZUdvQ2FyZGxlc3NCaWxsaW5nUmVxdWVzdCBjYWxsZWRcIik7ICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBiaWxsaW5nUmVxdWVzdCA9IGF3YWl0IGNsaWVudC5iaWxsaW5nUmVxdWVzdHMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICBtYW5kYXRlX3JlcXVlc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IFwiTlpEXCIsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBtZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImJpbGxpbmdSZXF1ZXN0OiBcIiwgYmlsbGluZ1JlcXVlc3QpO1xuICAgICAgICAgICAgcmVzb2x2ZShiaWxsaW5nUmVxdWVzdClcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3I6IFwiLCBlcnJvcik7XG4gICAgICAgICAgICByZXNvbHZlKGVycm9yKVxuICAgICAgICB9XG4gICAgICAgIH0pKClcbiAgICB9KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlR29DYXJkbGVzc0JpbGxpbmdSZXF1ZXN0RmxvdyhjdXN0b21lciwgYmlsbGluZ1JlcXVlc3QpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNyZWF0ZUdvQ2FyZGxlc3NCaWxsaW5nUmVxdWVzdEZsb3cgY2FsbGVkXCIpOyAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgYmlsbGluZ1JlcXVlc3RGbG93ID0gYXdhaXQgY2xpZW50LmJpbGxpbmdSZXF1ZXN0Rmxvd3MuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICByZWRpcmVjdF91cmk6IFwiaHR0cHM6Ly9kZXYuc3RheWhhbWxldC5jb20vcmVzaWRlbnQvcGF5L3JlbnQvY29uZmlybVwiLFxuICAgICAgICAgICAgICAgIGV4aXRfdXJpOiBcImh0dHBzOi8vZGV2LnN0YXloYW1sZXQuY29tL3Jlc2lkZW50L3BheS9yZW50L3Vuc3VjY2Vzc2Z1bFwiLFxuICAgICAgICAgICAgICAgIHByZWZpbGxlZF9jdXN0b21lcjoge1xuICAgICAgICAgICAgICAgICAgICBnaXZlbl9uYW1lOiBjdXN0b21lci5naXZlbl9uYW1lLFxuICAgICAgICAgICAgICAgICAgICBmYW1pbHlfbmFtZTogY3VzdG9tZXIuZmFtaWx5X25hbWUsXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiBcInBldGVyc2xvYW4xOTg0K3Rlc3Q3QGdtYWlsLmNvbVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbG9ja19jdXJyZW5jeTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsaW5rczoge1xuICAgICAgICAgICAgICAgICAgICBiaWxsaW5nX3JlcXVlc3Q6IGJpbGxpbmdSZXF1ZXN0LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYmlsbGluZ1JlcXVlc3RGbG93OiBcIiwgYmlsbGluZ1JlcXVlc3RGbG93KTtcbiAgICAgICAgICAgIHJlc29sdmUoYmlsbGluZ1JlcXVlc3RGbG93KVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvcjogXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJlc29sdmUoZXJyb3IpXG4gICAgICAgIH1cbiAgICAgICAgfSkoKVxuICAgIH0pXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVHb0NhcmRsZXNzU3Vic2NyaXB0aW9uKG1hbmRhdGUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNyZWF0ZUdvQ2FyZGxlc3NTdWJzY3JpcHRpb24gY2FsbGVkXCIpOyAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gYXdhaXQgY2xpZW50LnN1YnNjcmlwdGlvbnMuY3JlYXRlKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGFtb3VudDogMTUwMDAwLFxuICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IFwiTlpEXCIsXG4gICAgICAgICAgICAgICAgICBuYW1lOiBcIkhhbWxldCBSZW50XCIsXG4gICAgICAgICAgICAgICAgICBpbnRlcnZhbDogMixcbiAgICAgICAgICAgICAgICAgIGludGVydmFsX3VuaXQ6IFwid2Vla2x5XCIsXG4gICAgICAgICAgICAgICAgICByZXRyeV9pZl9wb3NzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIGxpbmtzOiB7XG4gICAgICAgICAgICAgICAgICAgIG1hbmRhdGU6IG1hbmRhdGVcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwidW5pcXVlX3N1YnNjcmlwdGlvbl9zcGVjaWZpY19zdHJpbmdcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3Vic2NyaXB0aW9uOiBcIiwgc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHJlc29sdmUoc3Vic2NyaXB0aW9uKVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvcjogXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJlc29sdmUoZXJyb3IpXG4gICAgICAgIH1cbiAgICAgICAgfSkoKVxuICAgIH0pXG59Il0sIm5hbWVzIjpbImdvY2FyZGxlc3MiLCJjb25zdGFudHMiLCJnZXQiLCJjbGllbnQiLCJwcm9jZXNzIiwiZW52IiwiR09fQ0FSRExFU1NfQUNDRVNTX1RPS0VOIiwiRW52aXJvbm1lbnRzIiwiU2FuZGJveCIsImdldEdvQ2FyZGxlc3NDdXN0b21lciIsIlByb21pc2UiLCJyZXNvbHZlIiwiY29uc29sZSIsImxvZyIsImxpc3RSZXNwb25zZSIsImN1c3RvbWVycyIsImxpc3QiLCJlcnJvciIsImNyZWF0ZUdvQ2FyZGxlc3NCaWxsaW5nUmVxdWVzdCIsIm1ldGFkYXRhIiwiYmlsbGluZ1JlcXVlc3QiLCJiaWxsaW5nUmVxdWVzdHMiLCJjcmVhdGUiLCJtYW5kYXRlX3JlcXVlc3QiLCJjdXJyZW5jeSIsImNyZWF0ZUdvQ2FyZGxlc3NCaWxsaW5nUmVxdWVzdEZsb3ciLCJjdXN0b21lciIsImJpbGxpbmdSZXF1ZXN0RmxvdyIsImJpbGxpbmdSZXF1ZXN0Rmxvd3MiLCJyZWRpcmVjdF91cmkiLCJleGl0X3VyaSIsInByZWZpbGxlZF9jdXN0b21lciIsImdpdmVuX25hbWUiLCJmYW1pbHlfbmFtZSIsImVtYWlsIiwibG9ja19jdXJyZW5jeSIsImxpbmtzIiwiYmlsbGluZ19yZXF1ZXN0IiwiY3JlYXRlR29DYXJkbGVzc1N1YnNjcmlwdGlvbiIsIm1hbmRhdGUiLCJzdWJzY3JpcHRpb24iLCJzdWJzY3JpcHRpb25zIiwiYW1vdW50IiwibmFtZSIsImludGVydmFsIiwiaW50ZXJ2YWxfdW5pdCIsInJldHJ5X2lmX3Bvc3NpYmxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./utils/gocardless.js\n");

/***/ }),

/***/ "(api)/./utils/segment/segmentClient.js":
/*!****************************************!*\
  !*** ./utils/segment/segmentClient.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst Analytics = __webpack_require__(/*! analytics-node */ \"analytics-node\");\nconst segmentClient = new Analytics(\"zE2e39JMeS8IFARVzhHLXduJgJy4nNyh\", {\n    flushAt: 1\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (segmentClient);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9zZWdtZW50L3NlZ21lbnRDbGllbnQuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLFNBQVMsR0FBR0MsbUJBQU8sQ0FBQyxzQ0FBZ0IsQ0FBQztBQUUzQyxNQUFNQyxhQUFhLEdBQUcsSUFBSUYsU0FBUyxDQUFDRyxrQ0FBOEMsRUFBRTtJQUFFRyxPQUFPLEVBQUUsQ0FBQztDQUFFLENBQUM7QUFFbkcsaUVBQWVKLGFBQWEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYW1sZXQvLi91dGlscy9zZWdtZW50L3NlZ21lbnRDbGllbnQuanM/MWQxNSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBBbmFseXRpY3MgPSByZXF1aXJlKCdhbmFseXRpY3Mtbm9kZScpO1xuXG5jb25zdCBzZWdtZW50Q2xpZW50ID0gbmV3IEFuYWx5dGljcyhwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TRUdNRU5UX05PREVfV1JJVEVfS0VZLCB7IGZsdXNoQXQ6IDEgfSk7XG5cbmV4cG9ydCBkZWZhdWx0IHNlZ21lbnRDbGllbnQiXSwibmFtZXMiOlsiQW5hbHl0aWNzIiwicmVxdWlyZSIsInNlZ21lbnRDbGllbnQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU0VHTUVOVF9OT0RFX1dSSVRFX0tFWSIsImZsdXNoQXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./utils/segment/segmentClient.js\n");

/***/ }),

/***/ "(api)/./utils/supabase.js":
/*!***************************!*\
  !*** ./utils/supabase.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createResidentGroup\": () => (/* binding */ createResidentGroup),\n/* harmony export */   \"getOnboardingStatus\": () => (/* binding */ getOnboardingStatus),\n/* harmony export */   \"getServiceSupabase\": () => (/* binding */ getServiceSupabase),\n/* harmony export */   \"postOnboardingData\": () => (/* binding */ postOnboardingData),\n/* harmony export */   \"supabase\": () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n// utils/supabase.js\n\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_KEY;\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(\"https://cijtrwqqphdofjmlvaee.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNpanRyd3FxcGhkb2ZqbWx2YWVlIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NTc2MjQ0NDQsImV4cCI6MTk3MzIwMDQ0NH0.NWwgCaesEAB1YP9ydq_iulwKZYhKeKFMIDuQy7jw-VA\");\nconst getServiceSupabase = ()=>(0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(\"https://cijtrwqqphdofjmlvaee.supabase.co\", supabaseServiceKey);\nconst getOnboardingStatus = async (userId)=>{\n    const supabase = getSupabase(userId);\n    let { data: users1 , error  } = await supabase.from(\"users\").select(\"is_onboarding\").eq(\"user_id\", userId);\n    const onboardingStatus = users1[0].is_onboarding;\n    return onboardingStatus;\n};\nconst postOnboardingData = async (userId, formData)=>{\n    try {\n        const supabase = getSupabase(userId);\n        let { data: users1 , error  } = await supabase.from(\"users\").update({\n            user_type: formData.userType,\n            first_name: formData.firstName,\n            last_name: formData.lastName,\n            is_onboarding: false\n        }).eq(\"user_id\", userId).select();\n    } catch (error1) {\n        console.log(error1);\n        const errorString = JSON.stringify(error1);\n        return res.status(400).json({\n            errorString\n        });\n    }\n    const response = users;\n    return response;\n};\nasync function createResidentGroup(request) {\n    try {\n        const res1 = await fetch(`/api/supabase/resident-groups/create` + \"?\" + new URLSearchParams(request).toString());\n        const data = await res1.json();\n        console.log(\"API result: \", data);\n        return data;\n    } catch (err) {\n        console.log(\"API error: \", err);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9zdXBhYmFzZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ2dDO0FBRXBELE1BQU1DLGtCQUFrQixHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0Msb0JBQW9CO0FBRXBELE1BQU1DLFFBQVEsR0FBR0wsbUVBQVksQ0FDaENFLDBDQUFvQyxFQUNwQ0Esa05BQXlDLENBQzVDO0FBRU0sTUFBTU0sa0JBQWtCLEdBQUcsSUFBTVIsbUVBQVksQ0FDbERFLDBDQUFvQyxFQUNwQ0Qsa0JBQWtCLENBQ25CO0FBRU0sTUFBTVEsbUJBQW1CLEdBQUcsT0FBT0MsTUFBTSxHQUFLO0lBQ25ELE1BQU1MLFFBQVEsR0FBR00sV0FBVyxDQUFDRCxNQUFNLENBQUM7SUFDcEMsSUFBSSxFQUFFRSxJQUFJLEVBQUVDLE1BQUssR0FBRUMsS0FBSyxHQUFFLEdBQUcsTUFBTVQsUUFBUSxDQUN4Q1UsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUNiQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQ3ZCQyxFQUFFLENBQUMsU0FBUyxFQUFFUCxNQUFNLENBQUM7SUFFdEIsTUFBTVEsZ0JBQWdCLEdBQUdMLE1BQUssQ0FBQyxDQUFDLENBQUMsQ0FBQ00sYUFBYTtJQUUvQyxPQUFPRCxnQkFBZ0I7Q0FDeEI7QUFFSSxNQUFNRSxrQkFBa0IsR0FBRyxPQUFPVixNQUFNLEVBQUVXLFFBQVEsR0FBSztJQUM1RCxJQUFJO1FBQ0YsTUFBTWhCLFFBQVEsR0FBR00sV0FBVyxDQUFDRCxNQUFNLENBQUM7UUFDcEMsSUFBSSxFQUFFRSxJQUFJLEVBQUVDLE1BQUssR0FBRUMsS0FBSyxHQUFFLEdBQUcsTUFBTVQsUUFBUSxDQUN4Q1UsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUNiTyxNQUFNLENBQ0w7WUFDRUMsU0FBUyxFQUFFRixRQUFRLENBQUNHLFFBQVE7WUFDNUJDLFVBQVUsRUFBRUosUUFBUSxDQUFDSyxTQUFTO1lBQzlCQyxTQUFTLEVBQUVOLFFBQVEsQ0FBQ08sUUFBUTtZQUM1QlQsYUFBYSxFQUFFLEtBQUs7U0FDckIsQ0FDRixDQUNBRixFQUFFLENBQUMsU0FBUyxFQUFFUCxNQUFNLENBQUMsQ0FDckJNLE1BQU0sRUFBRTtLQUNaLENBQUMsT0FBT0YsTUFBSyxFQUFFO1FBQ1plLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDaEIsTUFBSyxDQUFDO1FBQ2xCLE1BQU1pQixXQUFXLEdBQUdDLElBQUksQ0FBQ0MsU0FBUyxDQUFDbkIsTUFBSyxDQUFDO1FBQ3pDLE9BQU9vQixHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUVMLFdBQVc7U0FBRSxDQUFDO0tBQy9DO0lBQ0MsTUFBTU0sUUFBUSxHQUFHeEIsS0FBSztJQUN0QixPQUFPd0IsUUFBUTtDQUNsQjtBQUVNLGVBQWVDLG1CQUFtQixDQUFFQyxPQUFPLEVBQUU7SUFDbEQsSUFBSTtRQUNBLE1BQU1MLElBQUcsR0FBRyxNQUFNTSxLQUFLLENBQUMsQ0FBQyxvQ0FBb0MsQ0FBQyxHQUFHLEdBQUcsR0FBRyxJQUFLQyxlQUFlLENBQUNGLE9BQU8sQ0FBQyxDQUFFRyxRQUFRLEVBQUUsQ0FBQztRQUNqSCxNQUFNOUIsSUFBSSxHQUFHLE1BQU1zQixJQUFHLENBQUNFLElBQUksRUFBRTtRQUM3QlAsT0FBTyxDQUFDQyxHQUFHLENBQUMsY0FBYyxFQUFFbEIsSUFBSSxDQUFDLENBQUM7UUFDbEMsT0FBT0EsSUFBSTtLQUNkLENBQUMsT0FBTytCLEdBQUcsRUFBRTtRQUNWZCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxhQUFhLEVBQUVhLEdBQUcsQ0FBQyxDQUFDO0tBQ25DO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYW1sZXQvLi91dGlscy9zdXBhYmFzZS5qcz80MDZkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHV0aWxzL3N1cGFiYXNlLmpzXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXG5cbmNvbnN0IHN1cGFiYXNlU2VydmljZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfS0VZXG5cbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwsXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVlcbilcblxuZXhwb3J0IGNvbnN0IGdldFNlcnZpY2VTdXBhYmFzZSA9ICgpID0+IGNyZWF0ZUNsaWVudChcbiAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMLFxuICBzdXBhYmFzZVNlcnZpY2VLZXlcbilcblxuZXhwb3J0IGNvbnN0IGdldE9uYm9hcmRpbmdTdGF0dXMgPSBhc3luYyAodXNlcklkKSA9PiB7XG4gIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2UodXNlcklkKVxuICBsZXQgeyBkYXRhOiB1c2VycywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ3VzZXJzJylcbiAgICAuc2VsZWN0KCdpc19vbmJvYXJkaW5nJylcbiAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG5cbiAgICBjb25zdCBvbmJvYXJkaW5nU3RhdHVzID0gdXNlcnNbMF0uaXNfb25ib2FyZGluZ1xuICAgIFxuICAgIHJldHVybiBvbmJvYXJkaW5nU3RhdHVzXG4gIH1cblxuZXhwb3J0IGNvbnN0IHBvc3RPbmJvYXJkaW5nRGF0YSA9IGFzeW5jICh1c2VySWQsIGZvcm1EYXRhKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZSh1c2VySWQpXG4gICAgbGV0IHsgZGF0YTogdXNlcnMsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgIC51cGRhdGUoXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VyX3R5cGU6IGZvcm1EYXRhLnVzZXJUeXBlLCBcbiAgICAgICAgICBmaXJzdF9uYW1lOiBmb3JtRGF0YS5maXJzdE5hbWUsIFxuICAgICAgICAgIGxhc3RfbmFtZTogZm9ybURhdGEubGFzdE5hbWUsIFxuICAgICAgICAgIGlzX29uYm9hcmRpbmc6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIClcbiAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcbiAgICAgIC5zZWxlY3QoKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICBjb25zdCBlcnJvclN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGVycm9yKVxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3JTdHJpbmcgfSlcbiAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gdXNlcnMgXG4gICAgcmV0dXJuIHJlc3BvbnNlXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVSZXNpZGVudEdyb3VwIChyZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9zdXBhYmFzZS9yZXNpZGVudC1ncm91cHMvY3JlYXRlYCArICc/JyArIChuZXcgVVJMU2VhcmNoUGFyYW1zKHJlcXVlc3QpKS50b1N0cmluZygpKTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgY29uc29sZS5sb2coXCJBUEkgcmVzdWx0OiBcIiwgZGF0YSk7XG4gICAgICByZXR1cm4gZGF0YVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQVBJIGVycm9yOiBcIiwgZXJyKTtcbiAgfVxufVxuXG5cbiAgIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlU2VydmljZUtleSIsInByb2Nlc3MiLCJlbnYiLCJTVVBBQkFTRV9TRVJWSUNFX0tFWSIsInN1cGFiYXNlIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJnZXRTZXJ2aWNlU3VwYWJhc2UiLCJnZXRPbmJvYXJkaW5nU3RhdHVzIiwidXNlcklkIiwiZ2V0U3VwYWJhc2UiLCJkYXRhIiwidXNlcnMiLCJlcnJvciIsImZyb20iLCJzZWxlY3QiLCJlcSIsIm9uYm9hcmRpbmdTdGF0dXMiLCJpc19vbmJvYXJkaW5nIiwicG9zdE9uYm9hcmRpbmdEYXRhIiwiZm9ybURhdGEiLCJ1cGRhdGUiLCJ1c2VyX3R5cGUiLCJ1c2VyVHlwZSIsImZpcnN0X25hbWUiLCJmaXJzdE5hbWUiLCJsYXN0X25hbWUiLCJsYXN0TmFtZSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvclN0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXMiLCJzdGF0dXMiLCJqc29uIiwicmVzcG9uc2UiLCJjcmVhdGVSZXNpZGVudEdyb3VwIiwicmVxdWVzdCIsImZldGNoIiwiVVJMU2VhcmNoUGFyYW1zIiwidG9TdHJpbmciLCJlcnIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./utils/supabase.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/gocardless/billing-request/post.js"));
module.exports = __webpack_exports__;

})();