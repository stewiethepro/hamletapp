import { Client } from "urql";
import { ICourierClientBasicParams } from "./types";
export declare const GET_MESSAGE_COUNT = "\n  query MessageCount($params: FilterParamsInput) {\n    messageCount(params: $params)\n  }\n";
export interface IMessageCountParams {
    tags?: string[];
    from?: number;
    isRead?: boolean;
}
declare type GetMessageCount = (params?: IMessageCountParams) => Promise<number>;
export declare const getMessageCount: (client?: Client | undefined) => GetMessageCount;
export interface IGetMessagesParams {
    from?: number;
    isRead?: boolean;
    limit?: number;
    tags?: string[];
}
export declare const QUERY_MESSAGES: string;
interface ITextBlock {
    type: "text";
    text: string;
}
interface IActionBlock {
    type: "action";
    text: string;
    url: string;
}
export interface IGraphMessageResponse {
    id: string;
    messageId: string;
    created: string;
    read?: boolean;
    tags?: string[];
    content: {
        title: string;
        body: string;
        blocks: Array<ITextBlock | IActionBlock>;
        data?: any;
        trackingIds: {
            archiveTrackingId: string;
            clickTrackingId: string;
            deliverTrackingId: string;
            readTrackingId: string;
            unreadTrackingId: string;
        };
    };
}
declare type GetMessages = (params?: IGetMessagesParams, after?: string) => Promise<{
    appendMessages: boolean;
    startCursor: string;
    messages: IGraphMessageResponse[];
} | undefined>;
export declare const getMessages: (client?: Client | undefined) => GetMessages;
declare type GetMessageLists = (lists?: {
    id: string;
    filters: IGetMessagesParams;
}[], limit?: number) => Promise<{
    [listName: string]: {
        startCursor: string;
        messages: IGraphMessageResponse[];
    };
} | undefined>;
export declare const getMessageLists: (client?: Client | undefined) => GetMessageLists;
declare const _default: (params: ICourierClientBasicParams | {
    client?: Client;
}) => {
    getMessageCount: GetMessageCount;
    getMessageLists: GetMessageLists;
    getMessages: GetMessages;
};
export default _default;
//# sourceMappingURL=messages.d.ts.map